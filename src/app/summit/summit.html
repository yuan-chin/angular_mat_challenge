<div class="page-wrapper">

    <!-- ‚îÄ‚îÄ TOP BAR ‚îÄ‚îÄ -->
    <div class="top-bar">
        <span class="toggle-label">‚òÄÔ∏è Light Mode</span>
        <mat-slide-toggle (change)="toggleDarkMode($event)" color="accent"></mat-slide-toggle>
    </div>

    <!-- ‚îÄ‚îÄ HERO ‚îÄ‚îÄ -->
    <div class="hero">
        <div class="hero-badge">üìÖ MARCH 15‚Äì16, 2025 ¬∑ MANILA, PHILIPPINES</div>
        <h1>Youth Innovation<br>Summit 2025</h1>
        <p class="subtitle">Join the next generation of tech leaders. Register below to secure your spot.</p>
    </div>

    <!-- ‚îÄ‚îÄ FORM CARD ‚îÄ‚îÄ -->
    <div class="form-card-wrapper">
        <div class="form-container">
            <form [formGroup]="formdata" (ngSubmit)="onSubmit()">

                <!-- PERSONAL INFORMATION -->
                <p class="section-heading">Personal Information</p>

                <!-- Full Name -->
                <mat-form-field appearance="outline">
                    <mat-label>Full Name</mat-label>
                    <input matInput placeholder="Full Name" formControlName="fullName">
                    @if (formdata.controls['fullName'].invalid && formdata.controls['fullName'].touched) {
                    <mat-error>Full name is required.</mat-error>
                    }
                </mat-form-field>

                <!-- Email Address -->
                <mat-form-field appearance="outline">
                    <mat-label>Email Address</mat-label>
                    <input matInput type="email" placeholder="Email Address" formControlName="emailAddress">
                    @if (formdata.controls['emailAddress'].invalid && formdata.controls['emailAddress'].touched) {
                    <mat-error>A valid email address is required.</mat-error>
                    }
                </mat-form-field>

                <!-- Password -->
                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput type="password" placeholder="Password" formControlName="password">
                    <mat-hint>Alphanumeric only ¬∑ starts with a letter ¬∑ min 8 characters</mat-hint>
                    @if (formdata.controls['password'].hasError('required') && formdata.controls['password'].touched) {
                    <mat-error>Password is required.</mat-error>
                    } @else if (formdata.controls['password'].hasError('alphanumericPassword') &&
                    formdata.controls['password'].touched) {
                    <mat-error>Alphanumeric only ¬∑ starts with a letter ¬∑ min 8 characters.</mat-error>
                    }
                </mat-form-field>

                <!-- Gender -->
                <div class="radio-group">
                    <label class="radio-label">Gender</label>
                    <mat-radio-group formControlName="gender" class="gender-radio-group">
                        <mat-radio-button value="male">Male</mat-radio-button>
                        <mat-radio-button value="female">Female</mat-radio-button>
                        <mat-radio-button value="other">Other</mat-radio-button>
                    </mat-radio-group>
                    @if (formdata.controls['gender'].invalid && formdata.controls['gender'].touched) {
                    <div class="radio-error">Please select a gender.</div>
                    }
                </div>

                <!-- EVENT DETAILS -->
                <p class="section-heading">Event Details</p>

                <!-- Date of Birth -->
                <mat-form-field appearance="outline">
                    <mat-label>Date of Birth</mat-label>
                    <input matInput [matDatepicker]="dobPicker" placeholder="MM/DD/YYYY" formControlName="dateOfBirth">
                    <mat-hint>Must be born in 2006 or earlier</mat-hint>
                    <mat-datepicker-toggle matIconSuffix [for]="dobPicker"></mat-datepicker-toggle>
                    <mat-datepicker #dobPicker></mat-datepicker>
                    @if (formdata.controls['dateOfBirth'].hasError('required') &&
                    formdata.controls['dateOfBirth'].touched) {
                    <mat-error>Date of birth is required.</mat-error>
                    } @else if (formdata.controls['dateOfBirth'].hasError('tooYoung') &&
                    formdata.controls['dateOfBirth'].touched) {
                    <mat-error>Must be born in 2006 or earlier.</mat-error>
                    }
                </mat-form-field>

                <!-- Preferred Session Time -->
                <mat-form-field appearance="outline">
                    <mat-label>Preferred Session Time</mat-label>
                    <input matInput [matTimepicker]="sessionTime" formControlName="preferredSessionTime"
                        placeholder="Pick a time">
                    <mat-timepicker-toggle matIconSuffix [for]="sessionTime"></mat-timepicker-toggle>
                    <mat-timepicker #sessionTime></mat-timepicker>
                    @if (formdata.controls['preferredSessionTime'].invalid &&
                    formdata.controls['preferredSessionTime'].touched) {
                    <mat-error>Preferred session time is required.</mat-error>
                    }
                </mat-form-field>

                <!-- City -->
                <mat-form-field appearance="outline">
                    <mat-label>City</mat-label>
                    <input matInput placeholder="City" formControlName="city">
                </mat-form-field>

                <!-- ABOUT YOU -->
                <p class="section-heading">About You</p>

                <!-- Topics of Interest Chips -->
                <div class="chips-group">
                    <label class="chips-label">Topics of Interest</label>
                    <mat-chip-set>
                        @for (topic of topicOptions; track topic) {
                        <mat-chip [class.selected-chip]="isSelected(topic)" (click)="toggleTopic(topic)">
                            {{ topic }}
                        </mat-chip>
                        }
                    </mat-chip-set>
                </div>

                <!-- Tech Experience Level -->
                <div class="slider-group">
                    <label class="slider-label">
                        Tech Experience Level
                        <span class="level-badge">{{ formdata.get('techLevel')?.value }}/5</span>
                    </label>
                    <mat-slider [min]="minLevel" [max]="maxLevel" [step]="1" [discrete]="true">
                        <input matSliderThumb formControlName="techLevel">
                    </mat-slider>
                </div>

                <!-- Short Bio -->
                <mat-form-field appearance="outline">
                    <mat-label>Short Bio</mat-label>
                    <textarea matInput formControlName="shortBio" rows="3" placeholder="Short Bio"></textarea>
                </mat-form-field>

                <!-- Submit -->
                <button mat-raised-button class="submit-btn" type="submit">
                    Register for Summit ‚Üí
                </button>

            </form>

            <!-- ‚îÄ‚îÄ RESULT CARD ‚îÄ‚îÄ -->
            @if (submitted) {
            <div class="result-card">
                <div class="result-header">
                    <mat-icon style="color: #10b981;">check_circle</mat-icon>
                    <span class="result-title">Registration Successful! üéâ</span>
                </div>
                <div class="result-grid">
                    <div class="result-item">
                        <div class="label">Full Name</div>
                        <div class="value">{{ fullName }}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Email</div>
                        <div class="value">{{ emailAddress }}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Gender</div>
                        <div class="value">{{ gender | titlecase }}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">City</div>
                        <div class="value">{{ city || '‚Äî' }}</div>
                    </div>
                    <div class="result-item">
                        <div class="label">Tech Level</div>
                        <div class="value">{{ techLevel }}/5</div>
                    </div>
                    <div class="result-item result-chips">
                        <div class="label">Topics</div>
                        <div class="value">{{ selectedTopics.join(', ') || '‚Äî' }}</div>
                    </div>
                    @if (shortBio) {
                    <div class="result-item result-chips">
                        <div class="label">Bio</div>
                        <div class="value">{{ shortBio }}</div>
                    </div>
                    }
                </div>
            </div>
            }

        </div>
    </div>

    <!-- ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ -->
    <footer class="page-footer">
        ¬© 2025 Youth Innovation Summit ¬∑ All rights reserved
    </footer>

</div>